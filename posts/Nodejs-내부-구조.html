<!DOCTYPE html><html lang="ko-KR"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><meta property="og:url" content="https://100paperkite.github.io"/><meta property="og:type" content="website"/><meta property="og:locale" content="ko-KR"/><meta property="og:site_name" content="Baek Jiyeon"/><title>Node.js ë‚´ë¶€ êµ¬ì¡° | Baek Jiyeon</title><meta name="robots" content="index,follow"/><meta name="description" content="Node.js ë‚´ë¶€ êµ¬ì¡°ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ê¸°"/><meta property="og:title" content="Node.js ë‚´ë¶€ êµ¬ì¡° | Baek Jiyeon"/><meta property="og:description" content="Node.js ë‚´ë¶€ êµ¬ì¡°ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ê¸°"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Blog","datePublished":"2022-03-03","description":"Node.js ë‚´ë¶€ êµ¬ì¡°ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ê¸°","mainEntityOfPage":{"@type":"WebPage","@id":"https://100paperkite.github.io/posts/Nodejs-ë‚´ë¶€-êµ¬ì¡°"},"headline":"Node.js ë‚´ë¶€ êµ¬ì¡°","dateModified":"2022-03-03","author":{"@type":"Person","name":"Baek Jiyeon"}}</script><meta name="next-head-count" content="12"/><script id="gtag-init" strategy="afterInteractive">
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments);}
              gtag('js', new Date());
              gtag('config', 'G-FFSLQ27YMJ', {
                page_path: window.location.pathname,
              });
            </script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-FFSLQ27YMJ"></script><link rel="preload" href="/_next/static/css/a1248b712b212e8b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/a1248b712b212e8b.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-5229e4176ced45f0.js" defer=""></script><script src="/_next/static/chunks/framework-a070cbfff3c750c5.js" defer=""></script><script src="/_next/static/chunks/main-1b1db7be3343898e.js" defer=""></script><script src="/_next/static/chunks/pages/_app-4950b4b931360bc8.js" defer=""></script><script src="/_next/static/chunks/0c428ae2-aee1a03cbb0f41ac.js" defer=""></script><script src="/_next/static/chunks/17007de1-711cf284c97b49d4.js" defer=""></script><script src="/_next/static/chunks/2596-e9cc441945f84dbb.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-31ac287c4ff03009.js" defer=""></script><script src="/_next/static/_QqfeWiwal7FspF409Ts_/_buildManifest.js" defer=""></script><script src="/_next/static/_QqfeWiwal7FspF409Ts_/_ssgManifest.js" defer=""></script><script src="/_next/static/_QqfeWiwal7FspF409Ts_/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div class="flex flex-col min-h-screen"><nav class="flex justify-between sticky top-0 z-50 space-x-4 py-2"><a class="text-neutral-800 hover:text-neutral-600 md:text-xl font-bold mx-4 md:mx-6 my-1 md:my-2 p-2 " href="/">Baek Jiyeon</a></nav><main class="max-w-[820px] px-4 w-full mx-auto flex-grow font-body"><div class="px-2 md:px-4 py-2 md:py-4"><div class="border-b border-1 mb-4 sm:mb-6 border-dashed border-neutral-300"><div class="flex items-center my-1 md:my-2 gap-x-2"><div class="text-[10px] md:text-xs rounded-full bg-neutral-200 text-neutral-500 font-semibold px-2.5 md:px-3.5 md:py-1">node.js</div></div><h1 class="text-4xl sm:text-[44px] font-extrabold mb-2 sm:mb-4 mt-6 sm:mt-10">Node.js ë‚´ë¶€ êµ¬ì¡°</h1><div class="flex py-2 md:py-3 pl-1 text-neutral-500"><small class="">March 3, 2022<!-- -->ì— ì‘ì„±</small></div></div><article class="max-w-none prose prose-neutral prose-sm sm:prose-base md:prose-md"><h2>Node.js?</h2>
<p>Node.jsëŠ” JavaScriptì—”ì§„ ì¤‘ í•˜ë‚˜ì¸ Google Chrome V8ì—”ì§„ì„ ì´ìš©í•´ JavaScriptë¥¼ ë¸Œë¼ìš°ì € ë°–ì—ì„œ ì‹¤í–‰ ê°€ëŠ¥í•˜ê²Œ í•´ì£¼ëŠ” JS Runtime Environmentì´ë‹¤.</p>
<ul>
<li>Node.jsëŠ” V8ì—”ì§„ì„ ì´ìš©í•´ JSë¥¼ í•´ì„í•œë‹¤.</li>
<li>ë¸Œë¼ìš°ì €ì—ì„œ ëŒì•„ê°€ì§€ ì•Šê¸° ë•Œë¬¸ì— <code>window</code>ë‚˜ <code>document</code>ê°™ì€ Web APIëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.</li>
<li>OSìœ„ì—ì„œ ëŒì•„ê°€ê¸° ë•Œë¬¸ì— <code>fs</code>, <code>http</code>ê°€ standard libraryë¡œ ì œê³µëœë‹¤.</li>
<li>node.jsëŠ” V8ì—”ì§„ì´ ì§€ì›í•˜ëŠ” ê¸°ëŠ¥ë§Œ ì“¸ ìˆ˜ ìˆê¸° ë•Œë¬¸ì—, ëª¨ë“  JS ê¸°ëŠ¥ì„ ë°”ë¡œ ì“°ì§€ ëª»í•  ìˆ˜ ìˆë‹¤.</li>
</ul>
<h4>JavaScript Engine?</h4>
<p>JavaScript ì—”ì§„ì€ ë³€ìˆ˜, í•¨ìˆ˜ ê°ì²´ë¥¼ ì €ì¥í•˜ëŠ” <strong>Memory Heap</strong>ê³¼ í•¨ìˆ˜ í˜¸ì¶œì— ì“°ì´ëŠ” <strong>Call Stack</strong>ì„ ê°€ì§€ê³  ìˆìœ¼ë©°, JavaScript ì½”ë“œë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ machine ì½”ë“œë¡œ ë³€í™˜í•˜ê±°ë‚˜ Garbage Collection ë“±ë“±ì„ ìˆ˜í–‰í•œë‹¤.</p>
<p>ë¸Œë¼ìš°ì €ëŠ” ê°ì ë‚´ì¥ëœ JSì—”ì§„ì„ ì‚¬ìš©í•´ ì›¹ í˜ì´ì§€ì˜ JSì½”ë“œë¥¼ í•´ì„í•˜ëŠ”ë° ë¸Œë¼ìš°ì €ë§ˆë‹¤ ë‹¤ë¥¸ ì—”ì§„ì„ ì‚¬ìš©í•´ ì–¸ì–´ë¥¼ í•´ì„í•˜ê¸° ë•Œë¬¸ì— ê°™ì€ ì½”ë“œì—¬ë„ ë¸Œë¼ìš°ì €ë§ˆë‹¤ ë‹¤ë¥¸ ê²°ê³¼ê°€ ë‚˜ì˜¬ ìˆ˜ ìˆë‹¤.</p>
<h2>Node.js ê³„ì¸µ êµ¬ì¡°</h2>
<ul>
<li><strong>Node.js API</strong> : Node.js Applicationì— ì“°ì´ëŠ” JS API</li>
<li><strong>Node.js Standard library</strong> : OSê´€ë ¨ í•¨ìˆ˜ë“¤ì´ í¬í•¨ëœë‹¤(Timer <code>setTimeout</code>, File System <code>fs</code>, Network Calls <code>http</code>)</li>
<li><strong>V8</strong> : Memory Heap, Call Stack, Garbage Collectorë¡œ êµ¬ì„±ëœë‹¤ + JSë¥¼ OSì— ë§ëŠ” machine codeë¡œ ë³€í™˜í•œë‹¤</li>
<li><strong>libuv</strong> : ë¹„ë™ê¸° I/Oë¥¼ ì§€ì›í•˜ëŠ” Cì–¸ì–´ libraryë¡œ, ì»¤ë„ì˜ ë¹„ë™ê¸° API(ìœˆë„ìš°- IOCP, ë¦¬ëˆ…ìŠ¤-AIO)ë¡œ ì§€ì›í•  ìˆ˜ ì—†ëŠ” ì‘ì—…ì„ ë¹„ë™ê¸°í™” í•˜ê¸° ìœ„í•œ <strong>ë³„ë„ì˜ Thread Pool</strong>(ê¸°ë³¸ ê°’ìœ¼ë¡œ 4ê°œë¥¼ ì‚¬ìš©í•˜ë„ë¡ ì„¤ì •ë˜ì–´ ìˆìŒ)ì„ ê°€ì§€ê³  ìˆê³  Event Loop, Event Queueë¥¼ ê´€ë¦¬í•œë‹¤.</li>
<li><strong>c-ares</strong> : <code>dns</code>ëª¨ë“ˆì— ì“°ì´ëŠ” ë¹„ë™ê¸° DNS ìš”ì²­ì„ ìœ„í•œ Cì–¸ì–´ library</li>
<li><strong>llhttp</strong> : HTTP requeset/response íŒŒì‹± (ì´ì „ì—” <code>http-parsed</code>ê°€ ì“°ì˜€ë‹¤)</li>
<li><strong>open-ssl</strong> : ì•”í˜¸í™” library (<code>tls</code>, <code>crypto</code>ëª¨ë“ˆì— ì“°ì¸ë‹¤)</li>
<li><strong>zlib</strong> : ì••ì¶•/ì••ì¶• í•´ì œ library</li>
</ul>
<blockquote>
<p>Node.js dependencies: <a href="https://nodejs.org/en/docs/meta/topics/dependencies/">Dependencies | Node.js (nodejs.org)</a></p>
</blockquote>
<h2>Node.js íŠ¹ì§•</h2>
<ul>
<li><strong>Single Threaded</strong> - lockingì´ ì—†ìœ¼ë¯€ë¡œ í”„ë¡œê·¸ë¨ì´ ëœ ë³µì¡í•´ì§„ë‹¤</li>
<li><strong>Non-Blocking I/O</strong> - I/Oê°€ ëë‚  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ì§€ ì•ŠëŠ”ë‹¤</li>
<li><strong>Asynchronous</strong> - ë¹„ë™ê¸°ë¡œ ì‹¤í–‰í•œë‹¤</li>
</ul>
<p><strong>ğŸ’¡ Single threadì„ì—ë„ Asynchronous Non-Blocking I/Oê°€ ê°€ëŠ¥í•œ ì´ìœ ëŠ” Event Loopë•Œë¬¸ì´ë‹¤.</strong></p>
<ul>
<li>Event loopì—ì„œ ê° ìš”ì²­ì— ë§ëŠ” kernelì˜ ë¹„ë™ê¸° í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê±°ë‚˜, kernel ë¹„ë™ê¸° í•¨ìˆ˜ë¡œ ì§€ì›ë˜ì§€ ì•ŠëŠ” ì‘ì—…ì€ libuvì˜ thread poolì„ ì´ìš©í•´ ë³„ë„ì˜ ìŠ¤ë ˆë“œë¥¼ ë§Œë“¤ì–´ ì²˜ë¦¬í•œë‹¤.</li>
<li>main threadê°€ ì•„ë‹Œ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì—¬ëŸ¬ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.</li>
</ul>
<p><strong>ğŸ’¡ Multi-threadê°€ ì•„ë‹ˆê¸° ë•Œë¬¸ì— CPUë¥¼ ë§ì´ ì‚¬ìš©í•˜ëŠ” ì‘ì—…ì—ëŠ” ì í•©í•˜ì§€ ì•Šê³ , I/Oê°€ ë§ì€ ì‘ì—…ì— ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì í•©í•˜ë‹¤</strong></p>
<h2>Event Loop</h2>
<figure class="text-center pt-1 sm:pt-2 md:pt-3"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%27700%27%20height=%27700%27/%3e"/></span><img alt="nodejs event loop workflow" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="flex rounded" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="nodejs event loop workflow" src="/nodejs-event-loop.png" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="flex rounded" loading="lazy"/></noscript></span><div><a class="text-xs underline text-neutral-500" href="https://www.voidcanvas.com/nodejs-event-loop/">https://www.voidcanvas.com/nodejs-event-loop/</a></div></figure>
<ul>
<li>
<p><code>node main.js</code>ë¥¼ ì½˜ì†”ì—ì„œ ì‹¤í–‰ì‹œì¼°ì„ ë•Œ, Node.jsëŠ” ì´ë²¤íŠ¸ ë£¨í”„ë¥¼ ìƒì„±í•œ ë‹¤ìŒ <strong>ì´ë²¤íŠ¸ ë£¨í”„ ë°”ê¹¥</strong>ì—ì„œ ë©”ì¸ ëª¨ë“ˆì¸ <code>main.js</code>ë¥¼ ì‹¤í–‰í•œë‹¤.</p>
</li>
<li>
<p>í•œë²ˆ ë©”ì¸ ëª¨ë“ˆì´ ì‹¤í–‰ë˜ê³ ë‚˜ë©´ Node.jsëŠ” ì´ë²¤íŠ¸ ë£¨í”„ê°€ í™œì„± ìƒíƒœì¸ì§€, ì¦‰ ì´ë²¤íŠ¸ ë£¨í”„ ì•ˆì—ì„œ í•´ì•¼í•  ì‘ì—…ì´ ìˆëŠ”ì§€ë¥¼ í™•ì¸í•œë‹¤. ë§Œì•½ ì´ë²¤íŠ¸ ë£¨í”„ë¥¼ ëŒë¦´ í•„ìš”ê°€ ì—†ë‹¤ë©´ ì¢…ë£Œí•œë‹¤.</p>
</li>
<li>
<p>ì´ë²¤íŠ¸ ë£¨í”„ë¥¼ ëŒë ¤ì•¼ í•œë‹¤ë©´ Timer ë‹¨ê³„ë¶€í„° ì‹¤í–‰ëœë‹¤.</p>
</li>
<li>
<p>ìœ¡ê°í˜•ì´ ì´ë²¤íŠ¸ ë£¨í”„ì˜ ê° ë‹¨ê³„ë¥¼ ë§í•˜ê³ , ê° ë‹¨ê³„ëŠ” ì‹¤í–‰í•  callbackë“¤ì„ ë‹´ì€ FIFO Queueë¥¼ ê°€ì§„ë‹¤</p>
<ul>
<li>ë‚´ë¶€ì˜ <code>nextTickQueue</code>, <code>microTaskQueue</code> ëŠ” ì´ë²¤íŠ¸ ë£¨í”„ì˜ ì¼ë¶€ê°€ ì•„ë‹ˆë©° ì–´ë–¤ ë‹¨ê³„ì—ì„œë“  ì‹¤í–‰ë  ìˆ˜ ìˆê³ , ê°€ì¥ ë†’ì€ ìš°ì„ ìˆœìœ„ë¥¼ ì§€ë‹Œë‹¤.</li>
<li><code>nextTickQueue</code>ì— ë‹´ê¸´ ì‘ì—…ì´ ì¬ê·€ í˜¸ì¶œì„ ìˆ˜í–‰í•˜ëŠ” ê²½ìš° Node.jsì˜ ì‘ì—… í”„ë¡œì„¸ìŠ¤ë¥¼ ë¸”ë¡í‚¹í•  ìˆ˜ ìˆë‹¤.</li>
</ul>
</li>
<li>
<p>ì´ë²¤íŠ¸ ë£¨í”„ê°€ í•´ë‹¹ ë‹¨ê³„ì— ì§„ì…í•˜ë©´ í•´ë‹¹ ë‹¨ê³„ì— í•œì •ëœ ì‘ì—…ì„ ìˆ˜í–‰í•˜ê³ , íë¥¼ ëª¨ë‘ ì†Œì§„í•˜ê±°ë‚˜ ìµœëŒ€ ê°œìˆ˜ì˜ ì½œë°±ì„ ì‹¤í–‰í• ë•Œ ê¹Œì§€ ì½œë°±ì„ ì‹¤í–‰í•œë‹¤. (íë¥¼ ëª¨ë‘ ì†Œì§„í•˜ê±°ë‚˜ ì½œë°± ì œí•œì— ê±¸ë¦¬ë©´ ë‹¤ìŒ ë‹¨ê³„ë¡œ ì´ë™)</p>
</li>
<li>
<p>Call Stackì´ ë¹„ì–´ìˆìœ¼ë©´ ì´ë²¤íŠ¸ ë£¨í”„ëŠ” íì—ì„œ I/Oê°€ ëë‚œ ì‘ì—…ì˜ ì½œë°±ì„ Call Stackì— ë„˜ê²¨ì„œ ì‹¤í–‰ë  ìˆ˜ ìˆê²Œ í•œë‹¤.</p>
</li>
<li>
<p>ì´ë²¤íŠ¸ ë£¨í”„ëŠ” ë£¨í”„ë§ˆë‹¤ ë‹¤ë¥¸ ë¹„ë™ê¸° I/Oë‚˜ Timerë¥¼ ê¸°ë‹¤ë ¤ì•¼ í•˜ëŠ”ì§€ í™•ì¸í•˜ê³  ê¸°ë‹¤ë¦¬ëŠ” ê²ƒì´ ì—†ë‹¤ë©´ ê¹”ë”í•˜ê²Œ ì¢…ë£Œí•œë‹¤.</p>
</li>
</ul>
<h3>ê° ë‹¨ê³„</h3>
<h4><strong>timers</strong></h4>
<p><code>setTimeout()</code>ê³¼ <code>setInterval()</code>ë¡œ ìŠ¤ì¼€ì¤„ë§í•œ ì½œë°±ì„ ì‹¤í–‰í•œë‹¤. (min-heapìœ¼ë¡œ íƒ€ì´ë¨¸ë“¤ì„ ìœ ì§€í•œë‹¤)</p>
<p>íƒ€ì´ë¨¸ ì½œë°±ì€ ì§€ì •í•œ ì‹œê°„ì´ ì§€ë‚œ í›„ì— ìŠ¤ì¼€ì¤„ë§ ë  ìˆ˜ ìˆëŠ” ê°€ì¥ ì´ë¥¸ì‹œê°„ì— ì‹¤í–‰ëœë‹¤. (ìš´ì˜ì²´ì œ ìŠ¤ì¼€ì¤„ë§ì´ë‚˜ ë‹¤ë¥¸ ì½œë°± ì‹¤í–‰ë•Œë¬¸ì— ì§€ì—°ë  ìˆ˜ ìˆë‹¤)</p>
<p>*ê¸°ìˆ ì ìœ¼ë¡œëŠ” poll ë‹¨ê³„ì—ì„œ íƒ€ì´ë¨¸ë¥¼ ì–¸ì œ ì‹¤í–‰í• ì§€ ì œì–´í•œë‹¤. (poll íì— ì´ë²¤íŠ¸ê°€ ì—†ì–´ì•¼ Timerë¥¼ í™•ì¸í•œë‹¤)</p>
<h4><strong>pending callbacks</strong></h4>
<p>TCP ì˜¤ë¥˜ ê°™ì€ ì‹œìŠ¤í…œ ì‘ì—…ì˜ ì½œë°±ì„ ì‹¤í–‰í•œë‹¤.</p>
<p>ex. ì—ëŸ¬ í•¸ë“¤ëŸ¬ ì½œë°±</p>
<h4><strong>idle, prepare</strong></h4>
<p>ë‚´ë¶€ìš©ìœ¼ë¡œë§Œ ì‚¬ìš©í•œë‹¤.</p>
<h4><strong>poll</strong></h4>
<h5><strong>ë‘ ê°€ì§€ ì£¼ìš” ê¸°ëŠ¥</strong></h5>
<ul>
<li>I/Oë¥¼ ì–¼ë§ˆë‚˜ ì˜¤ë˜ blockí•˜ê³  pollingí•˜ëŠ” ì§€ ê³„ì‚°í•œë‹¤</li>
<li>ê·¸ ë‹¤ìŒ poll íì— ìˆëŠ” ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•œë‹¤<!-- -->
<ul>
<li>I/Oì™€ ì—°ê´€ëœ ì½œë°±(close callback, Timer callback, <code>setImmediate()</code>ë¥¼ ì œì™¸í•œ ê±°ì˜ ëª¨ë“  ì½œë°±ì´ í¬í•¨ëœë‹¤)</li>
</ul>
</li>
</ul>
<p>ë§Œì•½ ì´ë²¤íŠ¸ ë£¨í”„ê°€ ì´ ë‹¨ê³„ì— ì§„ì…í•˜ê³ , <strong>ìŠ¤ì¼€ì¤„ë§ëœ íƒ€ì´ë¨¸ê°€ ì—†ì„ë•Œ</strong> ë‘ ê°€ì§€ ìƒí™© ì¤‘ í•˜ë‚˜ê°€ ë°œìƒí•œë‹¤.</p>
<ul>
<li>Poll íê°€ <strong>ë¹„ì–´ìˆì§€ ì•Šë‹¤ë©´</strong> ì´ë²¤íŠ¸ ë£¨í”„ê°€ ì½œë°±ì˜ íë¥¼ ìˆœíšŒí•˜ë©´ì„œ íë¥¼ ë‹¤ ì†Œì§„í•˜ê±°ë‚˜, ì‹œìŠ¤í…œì— ì˜ì¡´ì ì¸ í•˜ë“œ í•œê³„ì— ë„ë‹¬í•  ë•Œê¹Œì§€ ë™ê¸°ë¡œ ì½œë°±ì„ ì‹¤í–‰í•œë‹¤.</li>
<li>Poll íê°€ <strong>ë¹„ì–´ìˆë‹¤ë©´</strong> ë‹¤ìŒ ì¤‘ í•˜ë‚˜ì˜ ìƒí™©ì´ ë°œìƒí•œë‹¤.<!-- -->
<ul>
<li>setImmediate()ê°€ ìŠ¤ì¼€ì¤„ë§ë˜ì—ˆë‹¤ë©´ ì´ë²¤íŠ¸ ë£¨í”„ëŠ” pollë‹¨ê³„ë¥¼ ì¢…ë£Œí•˜ê³  ìŠ¤ì¼€ì¤„ë§ëœ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ checkë‹¨ê³„ë¡œ ë„˜ì–´ê°„ë‹¤</li>
<li>setImmediate()ê°€ ìŠ¤ì¼€ì¤„ë§ë˜ì§€ ì•Šì•˜ë‹¤ë©´ ì´ë²¤íŠ¸ ë£¨í”„ëŠ” ì½œë°±ì´ Poll íì— ì¶”ê°€ë˜ê¸°ë¥¼ ê¸°ë‹¤ë¦° í›„ ì¦‰ì‹œ ì‹¤í–‰í•œë‹¤</li>
</ul>
</li>
</ul>
<p>+) ë‹¨, poll íê°€ ì¼ë‹¨ ë¹„ê²Œ ë˜ë©´ íƒ€ì´ë¨¸ê°€ <strong>ì‹œê°„ì„ ì´ˆê³¼í–ˆëŠ”ì§€</strong> í™•ì¸í•˜ê³ , í•˜ë‚˜ ì´ìƒì˜ íƒ€ì´ë¨¸ê°€ ì¤€ë¹„ë˜ì—ˆë‹¤ë©´ ì´ë²¤íŠ¸ ë£¨í”„ëŠ” íƒ€ì´ë¨¸ì˜ ì½œë°±ì„ ì‹¤í–‰í•˜ê¸° ìœ„í•´ timersë‹¨ê³„ë¡œ ëŒì•„ê°„ë‹¤.</p>
<p>+) í´ë§ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ë©´ì„œ poll ì´ë²¤íŠ¸ë¥¼ íì— ì¶”ê°€í•  ìˆ˜ ìˆë‹¤. ê·¸ ê²°ê³¼ ì˜¤ë˜ ì‹¤í–‰ë˜ëŠ” ì½œë°±ì€ poll ë‹¨ê³„ê°€ íƒ€ì´ë¨¸ì˜ í•œê³„ ì‹œì ë³´ë‹¤ í›¨ì”¬ ë” ì˜¤ë˜ ì‹¤í–‰ë˜ë„ë¡ í•  ìˆ˜ ìˆë‹¤. (ë‹¨, poll ë‹¨ê³„ê°€ ì´ë²¤íŠ¸ ë£¨í”„ë¥¼ ëª¨ë‘ ì°¨ì§€í•˜ë©´ ì•ˆë˜ë¯€ë¡œ libuvëŠ” ìµœëŒ€ì¹˜ë¥¼ ì„¤ì •í•œë‹¤)</p>
<h4><strong>check</strong></h4>
<p><code>setImmediate()</code> ì½œë°±ì„ í˜¸ì¶œí•œë‹¤.</p>
<h4><strong>close callbacks</strong></h4>
<p><code>socket.on(&#x27;close&#x27;, ...)</code>ê°™ì€ close ì´ë²¤íŠ¸ íƒ€ì…ì˜ í•¸ë“¤ëŸ¬ë“¤ì„ ì²˜ë¦¬í•œë‹¤.</p>
<h3>setImmediate() vs setTimeout() vs process.nextTick() ì‹¤í–‰ ìˆœì„œ</h3>
<h4>setImmediate() vs setTimeout()</h4>
<p>ë¹„ìŠ·í•˜ì§€ë§Œ í˜¸ì¶œëœ ì‹œê¸°ì— ë”°ë¼ ë‹¤ë¥´ê²Œ ë™ì‘í•œë‹¤.</p>
<p><strong>Example 1</strong></p>
<pre style="display:block;overflow-x:auto;padding:0.5em;color:#333;background:#f8f8f8"><code class="language-javascript">setTimeout(() =&gt; {
  console.log(&#x27;setTimeout&#x27;);
}, 0);
setImmediate(() =&gt; {
  console.log(&#x27;setImmediate&#x27;);
});</code></pre>
<p>â–² ë­ê°€ ë¨¼ì € ì¶œë ¥ë˜ëŠ” ì§€ ì•Œ ìˆ˜ ì—†ë‹¤. ì´ë²¤íŠ¸ ë£¨í”„ê°€ Timer ë‹¨ê³„ì— ì§„ì…í•  ë•Œ íƒ€ì´ë¨¸ê°€ ë“±ë¡ë˜ì§€ ì•Šì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤(íƒ€ì´ë¨¸ëŠ” ë©”ëª¨ë¦¬ì— ì €ì¥ë˜ëŠ”ë°, ê·¸ ìˆœê°„ ì»´í“¨í„°ì˜ ì„±ëŠ¥ì´ë‚˜ Node.jsê°€ ì•„ë‹Œ ì™¸ë¶€ ì‘ì—… ë•Œë¬¸ì— ì•½ê°„ì˜ ë”œë ˆì´ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤)</p>
<p><strong>Example 2</strong></p>
<pre style="display:block;overflow-x:auto;padding:0.5em;color:#333;background:#f8f8f8"><code class="language-javascript">fs.readFile(&#x27;my-file-path.txt&#x27;, () =&gt; {
  setTimeout(() =&gt; {
    console.log(&#x27;setTimeout&#x27;);
  }, 0);
  setImmediate(() =&gt; {
    console.log(&#x27;setImmediate&#x27;);
  });
});</code></pre>
<p>â–² I/O ì£¼ê¸° ë‚´ì—ì„œ í˜¸ì¶œí•˜ë©´ <code>setImmediate</code>ê°€ í•­ìƒ ë¨¼ì € ì‹¤í–‰ëœë‹¤. (poll ì´í›„ì— ë°”ë¡œ checkë‹¨ê³„ì—ì„œ setImmediateê°€ ì‹¤í–‰ë˜ë¯€ë¡œ. setTimeoutì€ ê·¸ ë‹¤ìŒ ë£¨í”„ì˜ timersì—ì„œ ì‹¤í–‰ëœë‹¤)</p>
<h4>setImmediate() vs process.nextTick()</h4>
<p>process.nextTick()ì´ setImmediate()ë³´ë‹¤ ë” ì¦‰ì‹œ ì‹¤í–‰ëœë‹¤.</p>
<ul>
<li>process.nextTick(): í•œ ë‹¨ê³„ì—ì„œ ë‹¤ìŒ ë‹¨ê³„ë¡œ ë„˜ì–´ê°€ëŠ” ë§¤ <code>tick</code>ë§ˆë‹¤ ìµœëŒ€í•œ ë¹¨ë¦¬ í˜¸ì¶œë˜ë„ë¡ ì‘ë™ëœë‹¤.</li>
<li>setImmediate(): ë£¨í”„ê°€ ëŒë•Œë§ˆë‹¤ ê´€ë¦¬í•œë‹¤.</li>
</ul>
<h2>ì°¸ê³  ìë£Œ</h2>
<ul>
<li><a href="https://nodejs.org/ko/docs/guides/event-loop-timers-and-nexttick/">Node.js ì´ë²¤íŠ¸ ë£¨í”„, íƒ€ì´ë¨¸, `process.nextTick()` | Node.js (nodejs.org)</a></li>
<li><a href="https://www.voidcanvas.com/nodejs-event-loop/">Node.js event loop workflow &amp; lifecycle in low level (voidcanvas.com)</a></li>
<li><a href="https://medium.com/zigbang/nodejs-event-loop%ED%8C%8C%ED%97%A4%EC%B9%98%EA%B8%B0-16e9290f2b30">NodeJS Event LoopíŒŒí—¤ì¹˜ê¸°</a></li>
<li><a href="https://chathuranga94.medium.com/nodejs-architecture-concurrency-model-f71da5f53d1d">NodeJS Architecture &amp; Concurrency Model | by Udara Bibile | Medium</a></li>
<li><a href="https://evan-moon.github.io/2019/08/01/nodejs-event-loop-workflow/">ë¡œìš° ë ˆë²¨ë¡œ ì‚´í´ë³´ëŠ” Node.js ì´ë²¤íŠ¸ ë£¨í”„ | Evans Library (evan-moon.github.io)</a></li>
</ul></article><div><hr class="border-t border-neutral-300 my-8 sm:my-16"/><section></section></div></div></main><footer class="font-title py-4 sm:py-8 flex flex-col items-center text-neutral-600"><div class="flex flex-row my-2"><div class="flex items-center py-1"><a class="m-2 " href="https://github.com/100paperkite"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="w-7 h-7" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.976 0A7.977 7.977 0 0 0 0 7.976c0 3.522 2.3 6.507 5.431 7.584.392.049.538-.196.538-.392v-1.37c-2.201.49-2.69-1.076-2.69-1.076-.343-.93-.881-1.175-.881-1.175-.734-.489.048-.489.048-.489.783.049 1.224.832 1.224.832.734 1.223 1.859.88 2.3.685.048-.538.293-.88.489-1.076-1.762-.196-3.621-.881-3.621-3.964 0-.88.293-1.566.832-2.153-.05-.147-.343-.978.098-2.055 0 0 .685-.196 2.201.832.636-.196 1.322-.245 2.007-.245s1.37.098 2.006.245c1.517-1.027 2.202-.832 2.202-.832.44 1.077.146 1.908.097 2.104a3.16 3.16 0 0 1 .832 2.153c0 3.083-1.86 3.719-3.62 3.915.293.244.538.733.538 1.467v2.202c0 .196.146.44.538.392A7.984 7.984 0 0 0 16 7.976C15.951 3.572 12.38 0 7.976 0z"></path></svg></a><a class="m-2" href="mailto:100.paperkite@gmail.com"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" class="w-7 h-7" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 3.5l.5-.5h13l.5.5v9l-.5.5h-13l-.5-.5v-9zm1 1.035V12h12V4.536L8.31 8.9H7.7L2 4.535zM13.03 4H2.97L8 7.869 13.03 4z"></path></svg></a></div></div><span class="text-sm md:text-base text-neutral-500">Baek Jiyeon<!-- --> Â© <!-- -->2022</span></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontMatter":{"title":"Node.js ë‚´ë¶€ êµ¬ì¡°","description":"Node.js ë‚´ë¶€ êµ¬ì¡°ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ê¸°","uploaded":"2022-03-03","updated":"2022-03-03","tags":["node.js"],"draft":false},"slug":"Nodejs-ë‚´ë¶€-êµ¬ì¡°","mdxSource":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, {})\n  })) : _createMdxContent();\n  function _createMdxContent() {\n    const _components = Object.assign({\n      h2: \"h2\",\n      p: \"p\",\n      ul: \"ul\",\n      li: \"li\",\n      code: \"code\",\n      h4: \"h4\",\n      strong: \"strong\",\n      blockquote: \"blockquote\",\n      a: \"a\",\n      h3: \"h3\",\n      h5: \"h5\",\n      pre: \"pre\"\n    }, _provideComponents(), props.components), {Image} = _components;\n    if (!Image) _missingMdxReference(\"Image\", true);\n    return _jsxs(_Fragment, {\n      children: [_jsx(_components.h2, {\n        children: \"Node.js?\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"Node.jsëŠ” JavaScriptì—”ì§„ ì¤‘ í•˜ë‚˜ì¸ Google Chrome V8ì—”ì§„ì„ ì´ìš©í•´ JavaScriptë¥¼ ë¸Œë¼ìš°ì € ë°–ì—ì„œ ì‹¤í–‰ ê°€ëŠ¥í•˜ê²Œ í•´ì£¼ëŠ” JS Runtime Environmentì´ë‹¤.\"\n      }), \"\\n\", _jsxs(_components.ul, {\n        children: [\"\\n\", _jsx(_components.li, {\n          children: \"Node.jsëŠ” V8ì—”ì§„ì„ ì´ìš©í•´ JSë¥¼ í•´ì„í•œë‹¤.\"\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"ë¸Œë¼ìš°ì €ì—ì„œ ëŒì•„ê°€ì§€ ì•Šê¸° ë•Œë¬¸ì— \", _jsx(_components.code, {\n            children: \"window\"\n          }), \"ë‚˜ \", _jsx(_components.code, {\n            children: \"document\"\n          }), \"ê°™ì€ Web APIëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"OSìœ„ì—ì„œ ëŒì•„ê°€ê¸° ë•Œë¬¸ì— \", _jsx(_components.code, {\n            children: \"fs\"\n          }), \", \", _jsx(_components.code, {\n            children: \"http\"\n          }), \"ê°€ standard libraryë¡œ ì œê³µëœë‹¤.\"]\n        }), \"\\n\", _jsx(_components.li, {\n          children: \"node.jsëŠ” V8ì—”ì§„ì´ ì§€ì›í•˜ëŠ” ê¸°ëŠ¥ë§Œ ì“¸ ìˆ˜ ìˆê¸° ë•Œë¬¸ì—, ëª¨ë“  JS ê¸°ëŠ¥ì„ ë°”ë¡œ ì“°ì§€ ëª»í•  ìˆ˜ ìˆë‹¤.\"\n        }), \"\\n\"]\n      }), \"\\n\", _jsx(_components.h4, {\n        children: \"JavaScript Engine?\"\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"JavaScript ì—”ì§„ì€ ë³€ìˆ˜, í•¨ìˆ˜ ê°ì²´ë¥¼ ì €ì¥í•˜ëŠ” \", _jsx(_components.strong, {\n          children: \"Memory Heap\"\n        }), \"ê³¼ í•¨ìˆ˜ í˜¸ì¶œì— ì“°ì´ëŠ” \", _jsx(_components.strong, {\n          children: \"Call Stack\"\n        }), \"ì„ ê°€ì§€ê³  ìˆìœ¼ë©°, JavaScript ì½”ë“œë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ machine ì½”ë“œë¡œ ë³€í™˜í•˜ê±°ë‚˜ Garbage Collection ë“±ë“±ì„ ìˆ˜í–‰í•œë‹¤.\"]\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"ë¸Œë¼ìš°ì €ëŠ” ê°ì ë‚´ì¥ëœ JSì—”ì§„ì„ ì‚¬ìš©í•´ ì›¹ í˜ì´ì§€ì˜ JSì½”ë“œë¥¼ í•´ì„í•˜ëŠ”ë° ë¸Œë¼ìš°ì €ë§ˆë‹¤ ë‹¤ë¥¸ ì—”ì§„ì„ ì‚¬ìš©í•´ ì–¸ì–´ë¥¼ í•´ì„í•˜ê¸° ë•Œë¬¸ì— ê°™ì€ ì½”ë“œì—¬ë„ ë¸Œë¼ìš°ì €ë§ˆë‹¤ ë‹¤ë¥¸ ê²°ê³¼ê°€ ë‚˜ì˜¬ ìˆ˜ ìˆë‹¤.\"\n      }), \"\\n\", _jsx(_components.h2, {\n        children: \"Node.js ê³„ì¸µ êµ¬ì¡°\"\n      }), \"\\n\", _jsxs(_components.ul, {\n        children: [\"\\n\", _jsxs(_components.li, {\n          children: [_jsx(_components.strong, {\n            children: \"Node.js API\"\n          }), \" : Node.js Applicationì— ì“°ì´ëŠ” JS API\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [_jsx(_components.strong, {\n            children: \"Node.js Standard library\"\n          }), \" : OSê´€ë ¨ í•¨ìˆ˜ë“¤ì´ í¬í•¨ëœë‹¤(Timer \", _jsx(_components.code, {\n            children: \"setTimeout\"\n          }), \", File System \", _jsx(_components.code, {\n            children: \"fs\"\n          }), \", Network Calls \", _jsx(_components.code, {\n            children: \"http\"\n          }), \")\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [_jsx(_components.strong, {\n            children: \"V8\"\n          }), \" : Memory Heap, Call Stack, Garbage Collectorë¡œ êµ¬ì„±ëœë‹¤ + JSë¥¼ OSì— ë§ëŠ” machine codeë¡œ ë³€í™˜í•œë‹¤\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [_jsx(_components.strong, {\n            children: \"libuv\"\n          }), \" : ë¹„ë™ê¸° I/Oë¥¼ ì§€ì›í•˜ëŠ” Cì–¸ì–´ libraryë¡œ, ì»¤ë„ì˜ ë¹„ë™ê¸° API(ìœˆë„ìš°- IOCP, ë¦¬ëˆ…ìŠ¤-AIO)ë¡œ ì§€ì›í•  ìˆ˜ ì—†ëŠ” ì‘ì—…ì„ ë¹„ë™ê¸°í™” í•˜ê¸° ìœ„í•œ \", _jsx(_components.strong, {\n            children: \"ë³„ë„ì˜ Thread Pool\"\n          }), \"(ê¸°ë³¸ ê°’ìœ¼ë¡œ 4ê°œë¥¼ ì‚¬ìš©í•˜ë„ë¡ ì„¤ì •ë˜ì–´ ìˆìŒ)ì„ ê°€ì§€ê³  ìˆê³  Event Loop, Event Queueë¥¼ ê´€ë¦¬í•œë‹¤.\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [_jsx(_components.strong, {\n            children: \"c-ares\"\n          }), \" : \", _jsx(_components.code, {\n            children: \"dns\"\n          }), \"ëª¨ë“ˆì— ì“°ì´ëŠ” ë¹„ë™ê¸° DNS ìš”ì²­ì„ ìœ„í•œ Cì–¸ì–´ library\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [_jsx(_components.strong, {\n            children: \"llhttp\"\n          }), \" : HTTP requeset/response íŒŒì‹± (ì´ì „ì—” \", _jsx(_components.code, {\n            children: \"http-parsed\"\n          }), \"ê°€ ì“°ì˜€ë‹¤)\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [_jsx(_components.strong, {\n            children: \"open-ssl\"\n          }), \" : ì•”í˜¸í™” library (\", _jsx(_components.code, {\n            children: \"tls\"\n          }), \", \", _jsx(_components.code, {\n            children: \"crypto\"\n          }), \"ëª¨ë“ˆì— ì“°ì¸ë‹¤)\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [_jsx(_components.strong, {\n            children: \"zlib\"\n          }), \" : ì••ì¶•/ì••ì¶• í•´ì œ library\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.blockquote, {\n        children: [\"\\n\", _jsxs(_components.p, {\n          children: [\"Node.js dependencies: \", _jsx(_components.a, {\n            href: \"https://nodejs.org/en/docs/meta/topics/dependencies/\",\n            children: \"Dependencies | Node.js (nodejs.org)\"\n          })]\n        }), \"\\n\"]\n      }), \"\\n\", _jsx(_components.h2, {\n        children: \"Node.js íŠ¹ì§•\"\n      }), \"\\n\", _jsxs(_components.ul, {\n        children: [\"\\n\", _jsxs(_components.li, {\n          children: [_jsx(_components.strong, {\n            children: \"Single Threaded\"\n          }), \" - lockingì´ ì—†ìœ¼ë¯€ë¡œ í”„ë¡œê·¸ë¨ì´ ëœ ë³µì¡í•´ì§„ë‹¤\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [_jsx(_components.strong, {\n            children: \"Non-Blocking I/O\"\n          }), \" - I/Oê°€ ëë‚  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ì§€ ì•ŠëŠ”ë‹¤\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [_jsx(_components.strong, {\n            children: \"Asynchronous\"\n          }), \" - ë¹„ë™ê¸°ë¡œ ì‹¤í–‰í•œë‹¤\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsx(_components.p, {\n        children: _jsx(_components.strong, {\n          children: \"ğŸ’¡ Single threadì„ì—ë„ Asynchronous Non-Blocking I/Oê°€ ê°€ëŠ¥í•œ ì´ìœ ëŠ” Event Loopë•Œë¬¸ì´ë‹¤.\"\n        })\n      }), \"\\n\", _jsxs(_components.ul, {\n        children: [\"\\n\", _jsx(_components.li, {\n          children: \"Event loopì—ì„œ ê° ìš”ì²­ì— ë§ëŠ” kernelì˜ ë¹„ë™ê¸° í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê±°ë‚˜, kernel ë¹„ë™ê¸° í•¨ìˆ˜ë¡œ ì§€ì›ë˜ì§€ ì•ŠëŠ” ì‘ì—…ì€ libuvì˜ thread poolì„ ì´ìš©í•´ ë³„ë„ì˜ ìŠ¤ë ˆë“œë¥¼ ë§Œë“¤ì–´ ì²˜ë¦¬í•œë‹¤.\"\n        }), \"\\n\", _jsx(_components.li, {\n          children: \"main threadê°€ ì•„ë‹Œ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì—¬ëŸ¬ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.\"\n        }), \"\\n\"]\n      }), \"\\n\", _jsx(_components.p, {\n        children: _jsx(_components.strong, {\n          children: \"ğŸ’¡ Multi-threadê°€ ì•„ë‹ˆê¸° ë•Œë¬¸ì— CPUë¥¼ ë§ì´ ì‚¬ìš©í•˜ëŠ” ì‘ì—…ì—ëŠ” ì í•©í•˜ì§€ ì•Šê³ , I/Oê°€ ë§ì€ ì‘ì—…ì— ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì í•©í•˜ë‹¤\"\n        })\n      }), \"\\n\", _jsx(_components.h2, {\n        children: \"Event Loop\"\n      }), \"\\n\", _jsx(Image, {\n        src: \"/nodejs-event-loop.png\",\n        alt: \"nodejs event loop workflow\",\n        sourceHref: \"https://www.voidcanvas.com/nodejs-event-loop/\"\n      }), \"\\n\", _jsxs(_components.ul, {\n        children: [\"\\n\", _jsxs(_components.li, {\n          children: [\"\\n\", _jsxs(_components.p, {\n            children: [_jsx(_components.code, {\n              children: \"node main.js\"\n            }), \"ë¥¼ ì½˜ì†”ì—ì„œ ì‹¤í–‰ì‹œì¼°ì„ ë•Œ, Node.jsëŠ” ì´ë²¤íŠ¸ ë£¨í”„ë¥¼ ìƒì„±í•œ ë‹¤ìŒ \", _jsx(_components.strong, {\n              children: \"ì´ë²¤íŠ¸ ë£¨í”„ ë°”ê¹¥\"\n            }), \"ì—ì„œ ë©”ì¸ ëª¨ë“ˆì¸ \", _jsx(_components.code, {\n              children: \"main.js\"\n            }), \"ë¥¼ ì‹¤í–‰í•œë‹¤.\"]\n          }), \"\\n\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"\\n\", _jsx(_components.p, {\n            children: \"í•œë²ˆ ë©”ì¸ ëª¨ë“ˆì´ ì‹¤í–‰ë˜ê³ ë‚˜ë©´ Node.jsëŠ” ì´ë²¤íŠ¸ ë£¨í”„ê°€ í™œì„± ìƒíƒœì¸ì§€, ì¦‰ ì´ë²¤íŠ¸ ë£¨í”„ ì•ˆì—ì„œ í•´ì•¼í•  ì‘ì—…ì´ ìˆëŠ”ì§€ë¥¼ í™•ì¸í•œë‹¤. ë§Œì•½ ì´ë²¤íŠ¸ ë£¨í”„ë¥¼ ëŒë¦´ í•„ìš”ê°€ ì—†ë‹¤ë©´ ì¢…ë£Œí•œë‹¤.\"\n          }), \"\\n\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"\\n\", _jsx(_components.p, {\n            children: \"ì´ë²¤íŠ¸ ë£¨í”„ë¥¼ ëŒë ¤ì•¼ í•œë‹¤ë©´ Timer ë‹¨ê³„ë¶€í„° ì‹¤í–‰ëœë‹¤.\"\n          }), \"\\n\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"\\n\", _jsx(_components.p, {\n            children: \"ìœ¡ê°í˜•ì´ ì´ë²¤íŠ¸ ë£¨í”„ì˜ ê° ë‹¨ê³„ë¥¼ ë§í•˜ê³ , ê° ë‹¨ê³„ëŠ” ì‹¤í–‰í•  callbackë“¤ì„ ë‹´ì€ FIFO Queueë¥¼ ê°€ì§„ë‹¤\"\n          }), \"\\n\", _jsxs(_components.ul, {\n            children: [\"\\n\", _jsxs(_components.li, {\n              children: [\"ë‚´ë¶€ì˜ \", _jsx(_components.code, {\n                children: \"nextTickQueue\"\n              }), \", \", _jsx(_components.code, {\n                children: \"microTaskQueue\"\n              }), \" ëŠ” ì´ë²¤íŠ¸ ë£¨í”„ì˜ ì¼ë¶€ê°€ ì•„ë‹ˆë©° ì–´ë–¤ ë‹¨ê³„ì—ì„œë“  ì‹¤í–‰ë  ìˆ˜ ìˆê³ , ê°€ì¥ ë†’ì€ ìš°ì„ ìˆœìœ„ë¥¼ ì§€ë‹Œë‹¤.\"]\n            }), \"\\n\", _jsxs(_components.li, {\n              children: [_jsx(_components.code, {\n                children: \"nextTickQueue\"\n              }), \"ì— ë‹´ê¸´ ì‘ì—…ì´ ì¬ê·€ í˜¸ì¶œì„ ìˆ˜í–‰í•˜ëŠ” ê²½ìš° Node.jsì˜ ì‘ì—… í”„ë¡œì„¸ìŠ¤ë¥¼ ë¸”ë¡í‚¹í•  ìˆ˜ ìˆë‹¤.\"]\n            }), \"\\n\"]\n          }), \"\\n\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"\\n\", _jsx(_components.p, {\n            children: \"ì´ë²¤íŠ¸ ë£¨í”„ê°€ í•´ë‹¹ ë‹¨ê³„ì— ì§„ì…í•˜ë©´ í•´ë‹¹ ë‹¨ê³„ì— í•œì •ëœ ì‘ì—…ì„ ìˆ˜í–‰í•˜ê³ , íë¥¼ ëª¨ë‘ ì†Œì§„í•˜ê±°ë‚˜ ìµœëŒ€ ê°œìˆ˜ì˜ ì½œë°±ì„ ì‹¤í–‰í• ë•Œ ê¹Œì§€ ì½œë°±ì„ ì‹¤í–‰í•œë‹¤. (íë¥¼ ëª¨ë‘ ì†Œì§„í•˜ê±°ë‚˜ ì½œë°± ì œí•œì— ê±¸ë¦¬ë©´ ë‹¤ìŒ ë‹¨ê³„ë¡œ ì´ë™)\"\n          }), \"\\n\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"\\n\", _jsx(_components.p, {\n            children: \"Call Stackì´ ë¹„ì–´ìˆìœ¼ë©´ ì´ë²¤íŠ¸ ë£¨í”„ëŠ” íì—ì„œ I/Oê°€ ëë‚œ ì‘ì—…ì˜ ì½œë°±ì„ Call Stackì— ë„˜ê²¨ì„œ ì‹¤í–‰ë  ìˆ˜ ìˆê²Œ í•œë‹¤.\"\n          }), \"\\n\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"\\n\", _jsx(_components.p, {\n            children: \"ì´ë²¤íŠ¸ ë£¨í”„ëŠ” ë£¨í”„ë§ˆë‹¤ ë‹¤ë¥¸ ë¹„ë™ê¸° I/Oë‚˜ Timerë¥¼ ê¸°ë‹¤ë ¤ì•¼ í•˜ëŠ”ì§€ í™•ì¸í•˜ê³  ê¸°ë‹¤ë¦¬ëŠ” ê²ƒì´ ì—†ë‹¤ë©´ ê¹”ë”í•˜ê²Œ ì¢…ë£Œí•œë‹¤.\"\n          }), \"\\n\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsx(_components.h3, {\n        children: \"ê° ë‹¨ê³„\"\n      }), \"\\n\", _jsx(_components.h4, {\n        children: _jsx(_components.strong, {\n          children: \"timers\"\n        })\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [_jsx(_components.code, {\n          children: \"setTimeout()\"\n        }), \"ê³¼ \", _jsx(_components.code, {\n          children: \"setInterval()\"\n        }), \"ë¡œ ìŠ¤ì¼€ì¤„ë§í•œ ì½œë°±ì„ ì‹¤í–‰í•œë‹¤. (min-heapìœ¼ë¡œ íƒ€ì´ë¨¸ë“¤ì„ ìœ ì§€í•œë‹¤)\"]\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"íƒ€ì´ë¨¸ ì½œë°±ì€ ì§€ì •í•œ ì‹œê°„ì´ ì§€ë‚œ í›„ì— ìŠ¤ì¼€ì¤„ë§ ë  ìˆ˜ ìˆëŠ” ê°€ì¥ ì´ë¥¸ì‹œê°„ì— ì‹¤í–‰ëœë‹¤. (ìš´ì˜ì²´ì œ ìŠ¤ì¼€ì¤„ë§ì´ë‚˜ ë‹¤ë¥¸ ì½œë°± ì‹¤í–‰ë•Œë¬¸ì— ì§€ì—°ë  ìˆ˜ ìˆë‹¤)\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"*ê¸°ìˆ ì ìœ¼ë¡œëŠ” poll ë‹¨ê³„ì—ì„œ íƒ€ì´ë¨¸ë¥¼ ì–¸ì œ ì‹¤í–‰í• ì§€ ì œì–´í•œë‹¤. (poll íì— ì´ë²¤íŠ¸ê°€ ì—†ì–´ì•¼ Timerë¥¼ í™•ì¸í•œë‹¤)\"\n      }), \"\\n\", _jsx(_components.h4, {\n        children: _jsx(_components.strong, {\n          children: \"pending callbacks\"\n        })\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"TCP ì˜¤ë¥˜ ê°™ì€ ì‹œìŠ¤í…œ ì‘ì—…ì˜ ì½œë°±ì„ ì‹¤í–‰í•œë‹¤.\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"ex. ì—ëŸ¬ í•¸ë“¤ëŸ¬ ì½œë°±\"\n      }), \"\\n\", _jsx(_components.h4, {\n        children: _jsx(_components.strong, {\n          children: \"idle, prepare\"\n        })\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"ë‚´ë¶€ìš©ìœ¼ë¡œë§Œ ì‚¬ìš©í•œë‹¤.\"\n      }), \"\\n\", _jsx(_components.h4, {\n        children: _jsx(_components.strong, {\n          children: \"poll\"\n        })\n      }), \"\\n\", _jsx(_components.h5, {\n        children: _jsx(_components.strong, {\n          children: \"ë‘ ê°€ì§€ ì£¼ìš” ê¸°ëŠ¥\"\n        })\n      }), \"\\n\", _jsxs(_components.ul, {\n        children: [\"\\n\", _jsx(_components.li, {\n          children: \"I/Oë¥¼ ì–¼ë§ˆë‚˜ ì˜¤ë˜ blockí•˜ê³  pollingí•˜ëŠ” ì§€ ê³„ì‚°í•œë‹¤\"\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"ê·¸ ë‹¤ìŒ poll íì— ìˆëŠ” ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•œë‹¤\", \"\\n\", _jsxs(_components.ul, {\n            children: [\"\\n\", _jsxs(_components.li, {\n              children: [\"I/Oì™€ ì—°ê´€ëœ ì½œë°±(close callback, Timer callback, \", _jsx(_components.code, {\n                children: \"setImmediate()\"\n              }), \"ë¥¼ ì œì™¸í•œ ê±°ì˜ ëª¨ë“  ì½œë°±ì´ í¬í•¨ëœë‹¤)\"]\n            }), \"\\n\"]\n          }), \"\\n\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"ë§Œì•½ ì´ë²¤íŠ¸ ë£¨í”„ê°€ ì´ ë‹¨ê³„ì— ì§„ì…í•˜ê³ , \", _jsx(_components.strong, {\n          children: \"ìŠ¤ì¼€ì¤„ë§ëœ íƒ€ì´ë¨¸ê°€ ì—†ì„ë•Œ\"\n        }), \" ë‘ ê°€ì§€ ìƒí™© ì¤‘ í•˜ë‚˜ê°€ ë°œìƒí•œë‹¤.\"]\n      }), \"\\n\", _jsxs(_components.ul, {\n        children: [\"\\n\", _jsxs(_components.li, {\n          children: [\"Poll íê°€ \", _jsx(_components.strong, {\n            children: \"ë¹„ì–´ìˆì§€ ì•Šë‹¤ë©´\"\n          }), \" ì´ë²¤íŠ¸ ë£¨í”„ê°€ ì½œë°±ì˜ íë¥¼ ìˆœíšŒí•˜ë©´ì„œ íë¥¼ ë‹¤ ì†Œì§„í•˜ê±°ë‚˜, ì‹œìŠ¤í…œì— ì˜ì¡´ì ì¸ í•˜ë“œ í•œê³„ì— ë„ë‹¬í•  ë•Œê¹Œì§€ ë™ê¸°ë¡œ ì½œë°±ì„ ì‹¤í–‰í•œë‹¤.\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"Poll íê°€ \", _jsx(_components.strong, {\n            children: \"ë¹„ì–´ìˆë‹¤ë©´\"\n          }), \" ë‹¤ìŒ ì¤‘ í•˜ë‚˜ì˜ ìƒí™©ì´ ë°œìƒí•œë‹¤.\", \"\\n\", _jsxs(_components.ul, {\n            children: [\"\\n\", _jsx(_components.li, {\n              children: \"setImmediate()ê°€ ìŠ¤ì¼€ì¤„ë§ë˜ì—ˆë‹¤ë©´ ì´ë²¤íŠ¸ ë£¨í”„ëŠ” pollë‹¨ê³„ë¥¼ ì¢…ë£Œí•˜ê³  ìŠ¤ì¼€ì¤„ë§ëœ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ checkë‹¨ê³„ë¡œ ë„˜ì–´ê°„ë‹¤\"\n            }), \"\\n\", _jsx(_components.li, {\n              children: \"setImmediate()ê°€ ìŠ¤ì¼€ì¤„ë§ë˜ì§€ ì•Šì•˜ë‹¤ë©´ ì´ë²¤íŠ¸ ë£¨í”„ëŠ” ì½œë°±ì´ Poll íì— ì¶”ê°€ë˜ê¸°ë¥¼ ê¸°ë‹¤ë¦° í›„ ì¦‰ì‹œ ì‹¤í–‰í•œë‹¤\"\n            }), \"\\n\"]\n          }), \"\\n\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"+) ë‹¨, poll íê°€ ì¼ë‹¨ ë¹„ê²Œ ë˜ë©´ íƒ€ì´ë¨¸ê°€ \", _jsx(_components.strong, {\n          children: \"ì‹œê°„ì„ ì´ˆê³¼í–ˆëŠ”ì§€\"\n        }), \" í™•ì¸í•˜ê³ , í•˜ë‚˜ ì´ìƒì˜ íƒ€ì´ë¨¸ê°€ ì¤€ë¹„ë˜ì—ˆë‹¤ë©´ ì´ë²¤íŠ¸ ë£¨í”„ëŠ” íƒ€ì´ë¨¸ì˜ ì½œë°±ì„ ì‹¤í–‰í•˜ê¸° ìœ„í•´ timersë‹¨ê³„ë¡œ ëŒì•„ê°„ë‹¤.\"]\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"+) í´ë§ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ë©´ì„œ poll ì´ë²¤íŠ¸ë¥¼ íì— ì¶”ê°€í•  ìˆ˜ ìˆë‹¤. ê·¸ ê²°ê³¼ ì˜¤ë˜ ì‹¤í–‰ë˜ëŠ” ì½œë°±ì€ poll ë‹¨ê³„ê°€ íƒ€ì´ë¨¸ì˜ í•œê³„ ì‹œì ë³´ë‹¤ í›¨ì”¬ ë” ì˜¤ë˜ ì‹¤í–‰ë˜ë„ë¡ í•  ìˆ˜ ìˆë‹¤. (ë‹¨, poll ë‹¨ê³„ê°€ ì´ë²¤íŠ¸ ë£¨í”„ë¥¼ ëª¨ë‘ ì°¨ì§€í•˜ë©´ ì•ˆë˜ë¯€ë¡œ libuvëŠ” ìµœëŒ€ì¹˜ë¥¼ ì„¤ì •í•œë‹¤)\"\n      }), \"\\n\", _jsx(_components.h4, {\n        children: _jsx(_components.strong, {\n          children: \"check\"\n        })\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [_jsx(_components.code, {\n          children: \"setImmediate()\"\n        }), \" ì½œë°±ì„ í˜¸ì¶œí•œë‹¤.\"]\n      }), \"\\n\", _jsx(_components.h4, {\n        children: _jsx(_components.strong, {\n          children: \"close callbacks\"\n        })\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [_jsx(_components.code, {\n          children: \"socket.on('close', ...)\"\n        }), \"ê°™ì€ close ì´ë²¤íŠ¸ íƒ€ì…ì˜ í•¸ë“¤ëŸ¬ë“¤ì„ ì²˜ë¦¬í•œë‹¤.\"]\n      }), \"\\n\", _jsx(_components.h3, {\n        children: \"setImmediate() vs setTimeout() vs process.nextTick() ì‹¤í–‰ ìˆœì„œ\"\n      }), \"\\n\", _jsx(_components.h4, {\n        children: \"setImmediate() vs setTimeout()\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"ë¹„ìŠ·í•˜ì§€ë§Œ í˜¸ì¶œëœ ì‹œê¸°ì— ë”°ë¼ ë‹¤ë¥´ê²Œ ë™ì‘í•œë‹¤.\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: _jsx(_components.strong, {\n          children: \"Example 1\"\n        })\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-javascript\",\n          children: \"setTimeout(() =\u003e {\\n  console.log('setTimeout');\\n}, 0);\\nsetImmediate(() =\u003e {\\n  console.log('setImmediate');\\n});\\n\"\n        })\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"â–² ë­ê°€ ë¨¼ì € ì¶œë ¥ë˜ëŠ” ì§€ ì•Œ ìˆ˜ ì—†ë‹¤. ì´ë²¤íŠ¸ ë£¨í”„ê°€ Timer ë‹¨ê³„ì— ì§„ì…í•  ë•Œ íƒ€ì´ë¨¸ê°€ ë“±ë¡ë˜ì§€ ì•Šì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤(íƒ€ì´ë¨¸ëŠ” ë©”ëª¨ë¦¬ì— ì €ì¥ë˜ëŠ”ë°, ê·¸ ìˆœê°„ ì»´í“¨í„°ì˜ ì„±ëŠ¥ì´ë‚˜ Node.jsê°€ ì•„ë‹Œ ì™¸ë¶€ ì‘ì—… ë•Œë¬¸ì— ì•½ê°„ì˜ ë”œë ˆì´ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤)\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: _jsx(_components.strong, {\n          children: \"Example 2\"\n        })\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-javascript\",\n          children: \"fs.readFile('my-file-path.txt', () =\u003e {\\n  setTimeout(() =\u003e {\\n    console.log('setTimeout');\\n  }, 0);\\n  setImmediate(() =\u003e {\\n    console.log('setImmediate');\\n  });\\n});\\n\"\n        })\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"â–² I/O ì£¼ê¸° ë‚´ì—ì„œ í˜¸ì¶œí•˜ë©´ \", _jsx(_components.code, {\n          children: \"setImmediate\"\n        }), \"ê°€ í•­ìƒ ë¨¼ì € ì‹¤í–‰ëœë‹¤. (poll ì´í›„ì— ë°”ë¡œ checkë‹¨ê³„ì—ì„œ setImmediateê°€ ì‹¤í–‰ë˜ë¯€ë¡œ. setTimeoutì€ ê·¸ ë‹¤ìŒ ë£¨í”„ì˜ timersì—ì„œ ì‹¤í–‰ëœë‹¤)\"]\n      }), \"\\n\", _jsx(_components.h4, {\n        children: \"setImmediate() vs process.nextTick()\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"process.nextTick()ì´ setImmediate()ë³´ë‹¤ ë” ì¦‰ì‹œ ì‹¤í–‰ëœë‹¤.\"\n      }), \"\\n\", _jsxs(_components.ul, {\n        children: [\"\\n\", _jsxs(_components.li, {\n          children: [\"process.nextTick(): í•œ ë‹¨ê³„ì—ì„œ ë‹¤ìŒ ë‹¨ê³„ë¡œ ë„˜ì–´ê°€ëŠ” ë§¤ \", _jsx(_components.code, {\n            children: \"tick\"\n          }), \"ë§ˆë‹¤ ìµœëŒ€í•œ ë¹¨ë¦¬ í˜¸ì¶œë˜ë„ë¡ ì‘ë™ëœë‹¤.\"]\n        }), \"\\n\", _jsx(_components.li, {\n          children: \"setImmediate(): ë£¨í”„ê°€ ëŒë•Œë§ˆë‹¤ ê´€ë¦¬í•œë‹¤.\"\n        }), \"\\n\"]\n      }), \"\\n\", _jsx(_components.h2, {\n        children: \"ì°¸ê³  ìë£Œ\"\n      }), \"\\n\", _jsxs(_components.ul, {\n        children: [\"\\n\", _jsx(_components.li, {\n          children: _jsx(_components.a, {\n            href: \"https://nodejs.org/ko/docs/guides/event-loop-timers-and-nexttick/\",\n            children: \"Node.js ì´ë²¤íŠ¸ ë£¨í”„, íƒ€ì´ë¨¸, `process.nextTick()` | Node.js (nodejs.org)\"\n          })\n        }), \"\\n\", _jsx(_components.li, {\n          children: _jsx(_components.a, {\n            href: \"https://www.voidcanvas.com/nodejs-event-loop/\",\n            children: \"Node.js event loop workflow \u0026 lifecycle in low level (voidcanvas.com)\"\n          })\n        }), \"\\n\", _jsx(_components.li, {\n          children: _jsx(_components.a, {\n            href: \"https://medium.com/zigbang/nodejs-event-loop%ED%8C%8C%ED%97%A4%EC%B9%98%EA%B8%B0-16e9290f2b30\",\n            children: \"NodeJS Event LoopíŒŒí—¤ì¹˜ê¸°\"\n          })\n        }), \"\\n\", _jsx(_components.li, {\n          children: _jsx(_components.a, {\n            href: \"https://chathuranga94.medium.com/nodejs-architecture-concurrency-model-f71da5f53d1d\",\n            children: \"NodeJS Architecture \u0026 Concurrency Model | by Udara Bibile | Medium\"\n          })\n        }), \"\\n\", _jsx(_components.li, {\n          children: _jsx(_components.a, {\n            href: \"https://evan-moon.github.io/2019/08/01/nodejs-event-loop-workflow/\",\n            children: \"ë¡œìš° ë ˆë²¨ë¡œ ì‚´í´ë³´ëŠ” Node.js ì´ë²¤íŠ¸ ë£¨í”„ | Evans Library (evan-moon.github.io)\"\n          })\n        }), \"\\n\"]\n      })]\n    });\n  }\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{},"scope":{}}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"Nodejs-ë‚´ë¶€-êµ¬ì¡°"},"buildId":"_QqfeWiwal7FspF409Ts_","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>